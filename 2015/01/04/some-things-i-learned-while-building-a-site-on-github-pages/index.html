<!DOCTYPE html>
<html prefix="" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Some things I learned while building a site on GitHub Pages | I Love Symposia!</title>
<link href="../../../../assets/css/all.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../../rss.xml">
<link rel="canonical" href="https://ilovesymposia.com/2015/01/04/some-things-i-learned-while-building-a-site-on-github-pages/">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
    },
    displayAlign: 'center', // Change this to 'left' if you want left-aligned equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script><!--[if lt IE 9]><script src="../../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Juan Nunez-Iglesias">
<link rel="prev" href="../../../../2014/10/27/continuous-integration-in-python-7-some-helper-tools-and-final-thoughts/" title="Continuous integration in Python, 7: some helper tools and final thoughts" type="text/html">
<link rel="next" href="../../../02/04/call-for-code-nominations-for-elegant-scipy/" title="Call for code nominations for Elegant SciPy!" type="text/html">
<meta property="og:site_name" content="I Love Symposia!">
<meta property="og:title" content="Some things I learned while building a site on GitHub Pages">
<meta property="og:url" content="https://ilovesymposia.com/2015/01/04/some-things-i-learned-while-building-a-site-on-github-pages/">
<meta property="og:description" content="Understatement: I'm not much of a web developer. However, we all have to become a little bit versed in web-dev if we want to publish things these days. GitHub Pages makes it really easy to publish a s">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2015-01-04T05:09:10+11:00">
<meta property="article:tag" content="github pages">
<meta property="article:tag" content="Jekyll">
<meta property="article:tag" content="markdown">
<meta property="article:tag" content="Planet SciPy">
<meta property="article:tag" content="programming">
<meta property="article:tag" content="web development">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
            styles, `#sidebar-checkbox` for behavior. -->
    <input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox"><!-- Toggleable sidebar --><div class="sidebar" id="sidebar">
        <div class="sidebar-item">
            <p>
            A blog about Python, science, and the odd random thing I care enough about.
            </p>
            <p>
            Theme modified from <a href="https://themes.getnikola.com/v7/lanyon/">Lanyon</a>.
            Created by <a href="https://twitter.com/mdo" target="_blank">@mdo</a> for Jekyll,
            ported to <a href="https://getnikola.com">Nikola</a> by
            <a href="https://twitter.com/ralsina" target="_blank">@ralsina</a>.
            </p>
        </div>
        
    <nav id="menu" role="navigation" class="sidebar-nav"><a class="sidebar-nav-item" href="../../../../archive.html">Archives</a>
        <a class="sidebar-nav-item" href="../../../../categories/index.html">Tags</a>
        <a class="sidebar-nav-item" href="../../../../rss.xml">RSS feed</a>
    
    
    </nav>
</div>

    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          
    <h3 id="brand" class="masthead-title">
      <a href="https://ilovesymposia.com/" title="I Love Symposia!" rel="home">I Love Symposia!</a>
    </h3>

        </div>
      </div>

      <div class="container content" id="content">
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="post-title p-name entry-title" itemprop="headline name"><a href="." class="u-url">Some things I learned while building a site on GitHub Pages</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Juan Nunez-Iglesias</span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="post-date published dt-published" datetime="2015-01-04T05:09:10+11:00" itemprop="datePublished" title="2015-01-04 05:09">2015-01-04 05:09</time></a></p>
                <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/2015/01/04/some-things-i-learned-while-building-a-site-on-github-pages.html">Comments</a>


        </p>
</div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p></p>
<p>Understatement: I'm not much of a web developer. However, we all have to become a little bit versed in web-dev if we want to publish things these days. GitHub Pages makes it really easy to publish a site (check out the <a href="https://pages.github.com">official guide</a>, and Thinkful's truly excellent <a href="http://www.thinkful.com/learn/a-guide-to-using-github-pages/">interactive getting started guide</a>).</p>
<p>If you just want to publish a static set of html files using absolute paths, you'll be fine. However, Pages uses <a href="http://jekyllrb.com">Jekyll</a>, a server that can transform collections of Markdown, HTML, and other files into full-fledged websites. The process is definitely full of gotchas, though, and you'll run into issues for anything other than single pages. I'm making this list for my own future reference, and so that I can finally close the umpteen tabs I have open on the topic! But I hope someone else will find it useful.</p>
<!-- TEASER_END -->

<p></p>
<h3>1. Jekyll lets you write Markdown, but it's not GitHub-Flavored Markdown</h3>
<p><strong>Update:</strong> This is no longer true. You can use GFM (or something very similar to it) using <code>kramdown</code> as the renderer.</p>
<p>You might assume, since you are writing markdown hosted on GitHub, that <a href="https://github.github.com/github-flavored-markdown/">GitHub-Flavored Markdown (GFM)</a> would work. But you would be wrong. You can configure Jekyll on GH-Pages to use either <a href="https://github.com/vmg/redcarpet">Redcarpet</a> or <a href="http://kramdown.gettalong.org/syntax.html">Kramdown</a>, both of which have significant syntactic differences with GFM. For example, fenced code blocks <a href="http://kramdown.gettalong.org/syntax.html#fenced-code-blocks">use <code>~~~</code> in Kramdown</a>, instead of GFM's <code>```</code>.</p>
<p>Anyway, to set the Markdown engine used to render your site, set the <code>markdown</code> attribute in the Jekyll configuration file, <code>_config.yml</code>, placed at the root of your repo:</p>
<pre><code>
# Dependencies
markdown:    kramdown
highlighter: pygments
</code></pre>

<h3>2. ... And syntax highlighting doesn't work properly in Jekyll on GH-Pages</h3>

<p><strong>Update:</strong> This has also been fixed.</p>
<p>Even using the correct delimiters for Kramdown is not good enough to get your code snippets to render properly, because of <a href="https://github.com/jekyll/jekyll/issues/2709">this</a> and <a href="https://github.com/jekyll/jekyll/issues/2715">this</a>. So, instead of using backtick- or tilde-fenced blocks, you have to use slightly clunkier Jekyll "liquid tags", which have the following fairly ugly syntax:</p>
<pre>
{% highlight python %}
    from scipy import ndimage as nd
{% endhighlight %}
</pre>

<h3>3. Linking is a bit weird</h3>

<p>My expectation when I started working with this was that I could write in markdown, and link directly to other markdown files using relative URLs, and Jekyll would just translate these to HTML links when serving the site. This is how <a href="http://www.mkdocs.org">MkDocs</a> and local viewers such as <a href="http://marked2app.com">Marked 2</a> work, for example.</p>
<p>That's not at all how Jekyll does things. <strong>Every markdown page that you want served needs to have a header called the <a href="http://jekyllrb.com/docs/frontmatter/">Front Matter</a>.</strong> Other markdown files will be publicly accessible but they will be treated as plaintext files.</p>
<p><em>How</em> the markdown files get served also varies depending on your <code>_config.yml</code> and the <code>permalink</code> variable. The annoying thing is that the <a href="https://github.com/jekyll/jekyll/issues/1293">documentation</a> on this is entirely centred on blog posts, with little indication about what happens to top-level pages. In the case of the <code>pretty</code> setting, <code>filename.markdown</code>, for example, gets served at <code>base.url/filename/</code>, <em>unless</em> you set the page's <code>permalink</code> attribute manually in the Front Matter, for example to <code>title.html</code> or <code>title/</code>.</p>
<h3>4. Relative paths don't work on GH-Pages</h3>

<p>This is a biggy, and super-annoying, because even if you follow GitHub's <a href="https://help.github.com/articles/using-jekyll-with-pages/">guide for local development</a>, <em>all</em> your style and layout files will be missing once you deploy to Pages.</p>
<p>The problem is that Jekyll assumes that your site lives at the root URL (i.e. <code>username.github.io</code>), when it is in fact in <code>username.github.io/my-site</code>.</p>
<p>The solution was developed by Matt Swensen <a href="https://github.com/jekyll/jekyll/issues/332#issuecomment-18952908">here</a>: You need to set a <code>baseurl</code> variable in your <code>_config.yml</code>. This should be your repository name. For example, if you post your site to the <code>gh-pages</code> branch of the repository <code>https://github.com/username/my-jekyll-site</code>, which gets served at <code>username.github.io/my-jekyll-site/</code>, you should set <code>baseurl</code> to <code>my-jekyll-site</code>.</p>
<p>Once you've set the <code>baseurl</code>, you <em>must</em> use it when linking to CSS and posts, using liquid tags: <code>{{ site.baseurl }}/path/to/style.css</code> and <code>{{ site.baseurl }}{{ post.url }}</code>.</p>
<p>When you're testing the site locally, you can either manually configure the <code>baseurl</code> tag to the empty string (<code>bundle exec jekyll serve --baseurl ''</code>), so you can navigate to 0.0.0.0:4000 as you would normally with Jekyll; or you can <a href="http://blog.parkermoore.de/2014/04/27/clearing-up-confusion-around-baseurl">leave it untouched</a> and navigate to 0.0.0.0:4000/my-jekyll-site, mirroring the structure of GitHub Pages.</p>
<p><strong>This is all documented in a specific Jekyll docs page</strong> that is unfortunately buried after <em>a lot</em> of other, less-relevant Jekyll docs. As a reference, look <a href="http://jekyllrb.com/docs/github-pages/">here</a>, and search for "Project Page URL Structure".</p>
<h3>5. You <em>must</em> provide an index.html or index.md file</h3>

<p>Otherwise you get a rather unhelpful <a href="https://github.com/jekyll/jekyll/issues/1293">Forbidden Error</a>.</p>
<h3>And 6. There is a "console" syntax highlighter for bash sessions</h3>

<p>I'd always used "bash" as my highlighter whenever I wanted to show a shell session, but it turns out that "console" does a slightly better job, by highlighting <code>$</code> prompts and commands, while graying output slightly. Christian Jann, who has written his own more-specific highlighter, ShellSession, has a <a href="http://www.jann.cc/pygments-shell-session-lexer-demo/shell_code_comparison.html">nice comparison</a> of the three. Although ShellSession is cool, I couldn't get it to work out-of-the-box on Jekyll.</p>
<hr>
<p>That should be enough to get you started... (Don't forget to check out <a href="http://www.thinkful.com/learn/a-guide-to-using-github-pages/">Thinkful's guide</a>!) Happy serving!</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../../categories/github-pages/" rel="tag">github pages</a></li>
            <li><a class="tag p-category" href="../../../../categories/jekyll/" rel="tag">Jekyll</a></li>
            <li><a class="tag p-category" href="../../../../categories/markdown/" rel="tag">markdown</a></li>
            <li><a class="tag p-category" href="../../../../categories/planet-scipy/" rel="tag">Planet SciPy</a></li>
            <li><a class="tag p-category" href="../../../../categories/programming/" rel="tag">programming</a></li>
            <li><a class="tag p-category" href="../../../../categories/web-development/" rel="tag">web development</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../../../../2014/10/27/continuous-integration-in-python-7-some-helper-tools-and-final-thoughts/" rel="prev" title="Continuous integration in Python, 7: some helper tools and final thoughts">Previous post</a>
            </li>
            <li class="next">
                <a href="../../../02/04/call-for-code-nominations-for-elegant-scipy/" rel="next" title="Call for code nominations for Elegant SciPy!">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="ilovesymposia",
            disqus_url="https://ilovesymposia.com/2015/01/04/some-things-i-learned-while-building-a-site-on-github-pages/",
        disqus_title="Some things I learned while building a site on GitHub Pages",
        disqus_identifier="cache/posts/2015/01/04/some-things-i-learned-while-building-a-site-on-github-pages.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="ilovesymposia";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><footer id="footer"><p>Contents © 2019         <a href="mailto:jni.soma@fastmail.com">Juan Nunez-Iglesias</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
<a rel="license" href="https://creativecommons.org/licenses/by/4.0/">
<img alt="Creative Commons License BY" style="border-width:0; margin-bottom:12px;" src="https://i.creativecommons.org/l/by/4.0/88x31.png"></a></p>
            
        </footer>
</div>
    </div>
    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
    
    
    
            <script src="../../../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
